<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <!--search-->
                <div class="layui-form layui-card-header" style="padding:15px 0;height: auto">
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <label class="layui-form-label">企业名称</label>
                            <div class="layui-input-block">
                                <input type="text" class='layui-input' ng-model="searchEntity.name">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <button class="layui-btn" ng-click="search()"><i class="layui-icon layui-icon-search"></i></button>
                        </div>
                        <div class="layui-inline">
                            <button class="layui-btn" ng-click="refresh()"><i class="layui-icon layui-icon-refresh"></i></button>
                        </div>
                    </div>
                </div>
                <div class="layui-card-body">
                    <table class="layui-table" lay-skin="line">
                        <thead>
                        <tr>
                            <!--<th>企业编号</th>-->
                            <th>单位名字</th>
                            <th>详细地址</th>
                            <th>所在地区</th>
                            <th>设备数</th>
                            <th>联系人</th>
                            <th>联系人电话</th>
                            <th>负责人</th>
                            <th>负责人电话</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in list">
                            <!--<td>{{item.id}}</td>-->
                            <td>{{item.name}}</td>
                            <td>{{item.address}}</td>
                            <td>{{item.regionName}}</td>
                            <td>{{item.deviceNum}}</td>
                            <td>{{item.contacts}}</td>
                            <td>{{item.contactsPhone}}</td>
                            <td>{{item.legalPersonName}}</td>
                            <td>{{item.legalPersonMobile}}</td>
                            <td>
                                <a class="layui-btn layui-btn-normal layui-btn-xs" data-ng-click="openRepairs(item)">
                                    <i class="layui-icon layui-icon-edit"></i>查看维保记录</a>
                                <!--<a class="layui-btn layui-btn-danger layui-btn-xs" data-ng-click="delete(item)">-->
                                    <!--<i class="layui-icon layui-icon-delete"></i>删除</a>-->
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div id="page"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--维保记录列表-->
<div class="layui-fluid" id="repairs" style="display: none">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <!--search-->
                <div class="layui-form layui-card-header" style="padding:15px 0;height: auto;margin-left: 15px">
                    <div class="layui-form-item">
                        <div class="layui-inline">
                            <button class="layui-btn" ng-click="repairsSearch()"><i class="layui-icon layui-icon-search"></i></button>
                        </div>
                        <div class="layui-inline">
                            <button class="layui-btn" ng-click="repairsRefresh()"><i class="layui-icon layui-icon-refresh"></i></button>
                        </div>
                    </div>
                </div>
                <div class="layui-card-body">
                    <table class="layui-table" lay-skin="line">
                        <thead>
                        <tr>
                            <th>使用单位名字</th>
                            <th>维保时间</th>
                            <th>下次维保时间</th>
                            <th>操作</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="item in lawList">
                            <td>{{item.cname}}</td>
                            <td>{{law.time | timeFilter}}</td>
                            <td>{{law.nextTime | timeFilter}}</td>
                            <td>
                                <a class="layui-btn layui-btn-normal layui-btn-xs" data-ng-click="detail(item)">
                                    <i class="layui-icon layui-icon-edit"></i>查看详情</a>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                    <div id="repairsPage"></div>
                </div>
            </div>
        </div>
    </div>
</div>

